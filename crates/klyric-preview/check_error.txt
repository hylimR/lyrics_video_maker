warning: unused imports: `Matrix` and `Path`
 --> D:\Workspace\lyric_video_maker_claude\crates\klyric-renderer\src\renderer\particle_system.rs:2:45
  |
2 | use skia_safe::{Canvas, Color, Paint, Rect, Matrix, Path, Point, Image, BlendMode ...
  |                                             ^^^^^^  ^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused imports: `ImageFilter`, `Image`, `Matrix`, `Path`, `Point`, and `Rect`
 --> D:\Workspace\lyric_video_maker_claude\crates\klyric-renderer\src\renderer\line_renderer.rs:2:39
  |
2 | ...t, Rect, Matrix, Path, Point, Image, Surface, BlendMode, PaintStyle, MaskFilter, BlurStyle, ImageFilter};
  |       ^^^^  ^^^^^^  ^^^^  ^^^^^  ^^^^^                                                         ^^^^^^^^^^^

warning: unused imports: `Paint` and `Surface`
 --> D:\Workspace\lyric_video_maker_claude\crates\klyric-renderer\src\renderer\mod.rs:6:17
  |
6 | use skia_safe::{Surface, Canvas, Color, Paint, ImageInfo, ColorType, AlphaType, su...
  |                 ^^^^^^^                 ^^^^^

warning: unused import: `Point`
 --> D:\Workspace\lyric_video_maker_claude\crates\klyric-renderer\src\text.rs:4:59
  |
4 | use skia_safe::{Font, Typeface, FontMgr, FontStyle, Data, Point, Path};
  |                                                           ^^^^^

warning: use of deprecated associated function `skia_safe::surface::<impl skia_safe::RCHandle<skia_bindings::SkSurface>>::new_raster_n32_premul`: use surfaces::raster_n32_premul()
   --> D:\Workspace\lyric_video_maker_claude\crates\klyric-renderer\src\renderer\line_renderer.rs:354:62
    |
354 | ...   if let Some(mut surface) = Surface::new_raster_n32_premul((capture_w, capt...
    |                                           ^^^^^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(deprecated)]` on by default

warning: unused variable: `idx`
  --> D:\Workspace\lyric_video_maker_claude\crates\klyric-renderer\src\renderer\line_renderer.rs:48:14
   |
48 |         for (idx, glyph) in glyphs.iter().enumerate() {
   |              ^^^ help: if this is intentional, prefix it with an underscore: `_idx`
   |
   = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `tx`
   --> D:\Workspace\lyric_video_maker_claude\crates\klyric-renderer\src\renderer\line_renderer.rs:357:34
    |
357 | ...                   let tx = (capture_w as f32 / 2.0) - cx;
    |                           ^^ help: if this is intentional, prefix it with an underscore: `_tx`

warning: unused variable: `ty`
   --> D:\Workspace\lyric_video_maker_claude\crates\klyric-renderer\src\renderer\line_renderer.rs:358:34
    |
358 | ...                   let ty = (capture_h as f32 / 2.0) - cy; // - bounds.top?
    |                           ^^ help: if this is intentional, prefix it with an underscore: `_ty`

warning: unused variable: `glyph_id`
  --> D:\Workspace\lyric_video_maker_claude\crates\klyric-renderer\src\text.rs:87:13
   |
87 |         let glyph_id = font.unichar_to_glyph(ch as i32);
   |             ^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_glyph_id`

warning: unused variable: `family`
   --> D:\Workspace\lyric_video_maker_claude\crates\klyric-renderer\src\text.rs:130:27
    |
130 |     pub fn find_font_file(family: &str) -> Option<PathBuf> {
    |                           ^^^^^^ help: if this is intentional, prefix it with an underscore: `_family`

warning: `klyric-renderer` (lib) generated 10 warnings (run `cargo fix --lib -p klyric-renderer` to apply 9 suggestions)
    Checking klyric-preview v0.1.0 (D:\Workspace\lyric_video_maker_claude\crates\klyric-preview)
warning: unused imports: `GlProfile` and `SwapInterval`
 --> src\main.rs:4:41
  |
4 |     context::{ContextAttributesBuilder, GlProfile, NotCurrentGlContext},
  |                                         ^^^^^^^^^
5 |     display::GetGlDisplay,
6 |     surface::{GlSurface, SwapInterval, WindowSurface},
  |                          ^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `GlWindow`
 --> src\main.rs:8:36
  |
8 | use glutin_winit::{DisplayBuilder, GlWindow};
  |                                    ^^^^^^^^

warning: unused imports: `KeyEvent`, `Key`, and `NamedKey`
  --> src\main.rs:11:33
   |
11 |     event::{Event, WindowEvent, KeyEvent},
   |                                 ^^^^^^^^
...
14 |     keyboard::{Key, NamedKey},
   |                ^^^  ^^^^^^^^

warning: unused import: `gl::Interface`
  --> src\main.rs:18:23
   |
18 | use skia_safe::{gpu::{gl::Interface, DirectContext, SurfaceOrigin}, ColorType, Surface};
   |                       ^^^^^^^^^^^^^

warning: unused import: `anyhow::Result`
 --> src\app.rs:1:5
  |
1 | use anyhow::Result;
  |     ^^^^^^^^^^^^^^

warning: unused import: `text::TextRenderer`
 --> src\app.rs:5:5
  |
5 |     text::TextRenderer,
  |     ^^^^^^^^^^^^^^^^^^

error[E0061]: this method takes 2 arguments but 3 arguments were supplied
  --> src\app.rs:83:41
   |
83 |                 if let Ok(_) = renderer.render_frame(canvas, doc, self.time) {
   |                                         ^^^^^^^^^^^^ ------ unexpected argument #1 of type `&mut skia_safe::Canvas`
   |
note: method defined here
  --> D:\Workspace\lyric_video_maker_claude\crates\klyric-renderer\src\renderer\mod.rs:42:12
   |
42 |     pub fn render_frame(&mut self, doc: &KLyricDocumentV2, time: f64) -> Result<Vec<u8>> {
   |            ^^^^^^^^^^^^
help: remove the extra argument
   |
83 -                 if let Ok(_) = renderer.render_frame(canvas, doc, self.time) {
83 +                 if let Ok(_) = renderer.render_frame(doc, self.time) {
   |

error[E0599]: no method named `num_samples` found for enum `glutin::config::Config` in the current scope
  --> src\main.rs:42:27
   |
42 |                 if config.num_samples() > accum.num_samples() {
   |                           ^^^^^^^^^^^ method not found in `glutin::config::Config`
   |
  ::: C:\Users\Lim Hong Yun\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\glutin-0.31.3\src\config.rs:46:8
   |
46 |     fn num_samples(&self) -> u8;
   |        ----------- the method is available for `glutin::config::Config` here
   |
   = help: items from traits can only be used if the trait is in scope
help: trait `GlConfig` which provides `num_samples` is implemented but not in scope; perhaps you want to import it
   |
 1 + use glutin::config::GlConfig;
   |

error[E0599]: no method named `num_samples` found for enum `glutin::config::Config` in the current scope
  --> src\main.rs:42:49
   |
42 |                 if config.num_samples() > accum.num_samples() {
   |                                                 ^^^^^^^^^^^ method not found in `glutin::config::Config`
   |
  ::: C:\Users\Lim Hong Yun\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\glutin-0.31.3\src\config.rs:46:8
   |
46 |     fn num_samples(&self) -> u8;
   |        ----------- the method is available for `glutin::config::Config` here
   |
   = help: items from traits can only be used if the trait is in scope
help: trait `GlConfig` which provides `num_samples` is implemented but not in scope; perhaps you want to import it
   |
 1 + use glutin::config::GlConfig;
   |

error[E0277]: `?` couldn't convert the error: `dyn StdError: Send` is not satisfied
  --> src\main.rs:49:7
   |
25 |   fn main() -> Result<()> {
   |                ---------- required `dyn StdError: Send` because of this
...
39 |       let (window, gl_config) = display_builder.build(&event_loop, template, |configs| {
   |  _______________________________________________-
40 | |         configs
41 | |             .reduce(|accum, config| {
42 | |                 if config.num_samples() > accum.num_samples() {
...  |
48 | |             .unwrap()
49 | |     })?;
   | |      -^ `dyn StdError` cannot be sent between threads safely
   | |______|
   |        this can't be annotated with `?` because it has type `Result<_, Box<(dyn StdError + 'static)>>`
   |
   = help: the trait `Send` is not implemented for `dyn StdError`
   = note: the question mark operation (`?`) implicitly performs a conversion on the error value using the `From` trait
   = note: required for `Unique<dyn StdError>` to implement `Send`
note: required because it appears within the type `Box<dyn StdError>`
  --> /rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234\library\alloc\src\boxed.rs:231:12
   = note: required for `anyhow::Error` to implement `From<Box<dyn StdError>>`

error[E0277]: `?` couldn't convert the error: `dyn StdError: Sync` is not satisfied
  --> src\main.rs:49:7
   |
25 |   fn main() -> Result<()> {
   |                ---------- required `dyn StdError: Sync` because of this
...
39 |       let (window, gl_config) = display_builder.build(&event_loop, template, |configs| {
   |  _______________________________________________-
40 | |         configs
41 | |             .reduce(|accum, config| {
42 | |                 if config.num_samples() > accum.num_samples() {
...  |
48 | |             .unwrap()
49 | |     })?;
   | |      -^ `dyn StdError` cannot be shared between threads safely
   | |______|
   |        this can't be annotated with `?` because it has type `Result<_, Box<(dyn StdError + 'static)>>`
   |
   = help: the trait `Sync` is not implemented for `dyn StdError`
   = note: the question mark operation (`?`) implicitly performs a conversion on the error value using the `From` trait
   = note: required for `Unique<dyn StdError>` to implement `Sync`
note: required because it appears within the type `Box<dyn StdError>`
  --> /rustc/ded5c06cf21d2b93bffd5d884aa6e96934ee4234\library\alloc\src\boxed.rs:231:12
   = note: required for `anyhow::Error` to implement `From<Box<dyn StdError>>`

error[E0277]: `?` couldn't convert the error: `dyn StdError: Sized` is not satisfied
  --> src\main.rs:49:7
   |
25 |   fn main() -> Result<()> {
   |                ---------- required `dyn StdError: Sized` because of this
...
39 |       let (window, gl_config) = display_builder.build(&event_loop, template, |configs| {
   |  _______________________________________________-
40 | |         configs
41 | |             .reduce(|accum, config| {
42 | |                 if config.num_samples() > accum.num_samples() {
...  |
48 | |             .unwrap()
49 | |     })?;
   | |      -^ doesn't have a size known at compile-time
   | |______|
   |        this can't be annotated with `?` because it has type `Result<_, Box<(dyn StdError + 'static)>>`
   |
   = help: the trait `Sized` is not implemented for `dyn StdError`
   = note: the question mark operation (`?`) implicitly performs a conversion on the error value using the `From` trait
   = note: required for `Box<dyn StdError>` to implement `StdError`
   = note: required for `anyhow::Error` to implement `From<Box<dyn StdError>>`

error[E0599]: no method named `create_context` found for enum `glutin::display::Display` in the current scope
  --> src\main.rs:58:20
   |
58 |         gl_display.create_context(&gl_config, &context_attributes)?
   |                    ^^^^^^^^^^^^^^ method not found in `glutin::display::Display`
   |
  ::: C:\Users\Lim Hong Yun\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\glutin-0.31.3\src\display.rs:74:15
   |
74 |     unsafe fn create_context(
   |               -------------- the method is available for `glutin::display::Display` here
   |
   = help: items from traits can only be used if the trait is in scope
help: trait `GlDisplay` which provides `create_context` is implemented but not in scope; perhaps you want to import it
   |
 1 + use glutin::display::GlDisplay;
   |

error[E0599]: no method named `create_window_surface` found for enum `glutin::display::Display` in the current scope
  --> src\main.rs:69:20
   |
69 |         gl_display.create_window_surface(&gl_config, &surface_attributes)?
   |                    ^^^^^^^^^^^^^^^^^^^^^
   |
  ::: C:\Users\Lim Hong Yun\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\glutin-0.31.3\src\display.rs:87:15
   |
87 |     unsafe fn create_window_surface(
   |               --------------------- the method is available for `glutin::display::Display` here
   |
   = help: items from traits can only be used if the trait is in scope
help: trait `GlDisplay` which provides `create_window_surface` is implemented but not in scope; perhaps you want to import it
   |
 1 + use glutin::display::GlDisplay;
   |
help: there is a method `create_pixmap_surface` with a similar name
   |
69 -         gl_display.create_window_surface(&gl_config, &surface_attributes)?
69 +         gl_display.create_pixmap_surface(&gl_config, &surface_attributes)?
   |

error[E0599]: no method named `get_proc_address` found for enum `glutin::display::Display` in the current scope
   --> src\main.rs:77:20
    |
 77 |         gl_display.get_proc_address(symbol.as_c_str()).cast()
    |                    ^^^^^^^^^^^^^^^^ method not found in `glutin::display::Display`
    |
   ::: C:\Users\Lim Hong Yun\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\glutin-0.31.3\src\display.rs:125:8
    |
125 |     fn get_proc_address(&self, addr: &CStr) -> *const ffi::c_void;
    |        ---------------- the method is available for `glutin::display::Display` here
    |
    = help: items from traits can only be used if the trait is in scope
help: trait `GlDisplay` which provides `get_proc_address` is implemented but not in scope; perhaps you want to import it
    |
  1 + use glutin::display::GlDisplay;
    |

warning: use of deprecated associated function `skia_safe::gpu::direct_context::<impl skia_safe::RCHandle<skia_bindings::GrDirectContext>>::new_gl`: use gpu::direct_contexts::make_gl()
  --> src\main.rs:80:41
   |
80 |     let mut gr_context = DirectContext::new_gl(None, None).expect("Failed to create Skia Context");
   |                                         ^^^^^^
   |
   = note: `#[warn(deprecated)]` on by default

error[E0277]: the trait bound `RCHandle<skia_bindings::GrGLInterface>: From<std::option::Option<_>>` is not satisfied
  --> src\main.rs:80:48
   |
80 |     let mut gr_context = DirectContext::new_gl(None, None).expect("Failed to create Skia Context");
   |                          --------------------- ^^^^ the trait `From<std::option::Option<_>>` is not implemented for `RCHandle<skia_bindings::GrGLInterface>`
   |                          |
   |                          required by a bound introduced by this call
   |
   = help: the following other types implement trait `From<T>`:
             `RCHandle<N>` implements `From<&RCHandle<N>>`
             `RCHandle<skia_bindings::GrRecordingContext>` implements `From<RCHandle<skia_bindings::GrDirectContext>>`
             `RCHandle<skia_bindings::SkBlender>` implements `From<skia_safe::BlendMode>`
             `RCHandle<skia_bindings::SkFontMgr>` implements `From<RCHandle<skia_bindings::SkOrderedFontMgr>>`
             `RCHandle<skia_bindings::SkFontMgr>` implements `From<RCHandle<skia_bindings::skia_textlayout_TypefaceFontProvider>>`
   = note: required for `std::option::Option<_>` to implement `Into<RCHandle<skia_bindings::GrGLInterface>>`
note: required by a bound in `gpu::direct_context::<impl RCHandle<skia_bindings::GrDirectContext>>::new_gl`
  --> C:\Users\Lim Hong Yun\.cargo\registry\src\index.crates.io-1949cf8c6b5b557f\skia-safe-0.75.0\src\gpu\direct_context.rs:89:25
   |
88 |     pub fn new_gl<'a>(
   |            ------ required by a bound in this associated function
89 |         interface: impl Into<gl::Interface>,
   |                         ^^^^^^^^^^^^^^^^^^^ required by this bound in `gpu::direct_context::<impl RCHandle<GrDirectContext>>::new_gl`

error[E0308]: mismatched types
   --> src\main.rs:121:36
    |
121 |                         app.render(surface.canvas());
    |                             ------ ^^^^^^^^^^^^^^^^ types differ in mutability
    |                             |
    |                             arguments to this method are incorrect
    |
    = note: expected mutable reference `&mut skia_safe::Canvas`
                       found reference `&skia_safe::Canvas`
note: method defined here
   --> src\app.rs:78:12
    |
 78 |     pub fn render(&mut self, canvas: &mut Canvas) {
    |            ^^^^^^            -------------------

error[E0063]: missing field `protected` in initializer of `FramebufferInfo`
   --> src\main.rs:146:19
    |
146 |     let fb_info = skia_safe::gpu::gl::FramebufferInfo {
    |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ missing `protected`

warning: use of deprecated associated function `skia_safe::gpu::backend_surface::<impl skia_safe::Handle<skia_bindings::GrBackendRenderTarget>>::new_gl`: use gpu::backend_render_targets::make_gl()
   --> src\main.rs:151:70
    |
151 |     let backend_render_target = skia_safe::gpu::BackendRenderTarget::new_gl(
    |                                                                      ^^^^^^

warning: use of deprecated associated function `skia_safe::surface::<impl skia_safe::RCHandle<skia_bindings::SkSurface>>::from_backend_render_target`: use gpu::surfaces::wrap_backend_render_target()
   --> src\main.rs:158:14
    |
158 |     Surface::from_backend_render_target(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^

Some errors have detailed explanations: E0061, E0063, E0277, E0308, E0599.
For more information about an error, try `rustc --explain E0061`.
warning: `klyric-preview` (bin "klyric-preview") generated 9 warnings
error: could not compile `klyric-preview` (bin "klyric-preview") due to 12 previous errors; 9 warnings emitted
